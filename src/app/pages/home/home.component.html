<!-- Sección Inicio/Hero -->
<section id="inicio" class="hero-section">
  <div class="container">
    <div class="row align-items-center py-4">
      <div class="col-lg-6 mb-4 mb-lg-0">
        <h1 class="display-4 fw-bold mb-3">Invitaciones digitales que cuentan tu historia</h1>
        <p class="lead mb-4">
          Diseños únicos, animaciones encantadoras y una experiencia que tus invitados recordarán.
          <b>Crea la tuya en minutos y compártela al instante.</b>
        </p>
        <div class="d-flex gap-3">
          <a routerLink="/market" class="btn btn-light btn-lg hero-btn">Explorar diseños</a>
          <!-- <a href="#contacto" class="btn btn-outline-light btn-lg">Contactar</a> -->
        </div>
      </div>
      <div class="col-lg-6">
        <div class="hero-image">
          <img src="/assets/images/laptop.png" alt="Laptop" class="img-fluid">
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Sección Características -->
<section class="features-section py-5">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-6 mb-4 mb-lg-0">
        <h2 class="display-4 fw-bold mb-4"> Obtén la invitación de tus sueños </h2>
        <p class="lead mb-4">
          Creamos invitaciones digitales que reflejan tu estilo, con música, galería, animaciones y toda la información de tu evento en un solo enlace.
        </p>
      </div>
      <div class="col-lg-6">
        <div class="features-image">
          <img src="assets/images/panel.png" alt="Características de invitaciones" class="img-fluid">
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Sección Cómo Obtenerla -->
<section class="how-to-section py-5 bg-white">
  <div class="container">
    <div class="text-center mb-5">
      <h2 class="display-4 fw-bold mb-3">Tu invitación lista en 3 pasos</h2>
      <p class="lead text-primary fw-semibold">¡Fácil, rápido y seguro!</p>
    </div>

    <div class="steps-container">
      <!-- Animaciones arriba -->
      <div class="row g-4 mb-4">
        <div class="col-md-4">
          <div class="step-animation text-center">
            <ng-lottie [options]="lottieOptions" class="lottie-animation"></ng-lottie>
          </div>
        </div>
        <div class="col-md-4">
          <div class="step-animation text-center">
            <ng-lottie [options]="lottieOptionsSend" class="lottie-animation"></ng-lottie>
          </div>
        </div>
        <div class="col-md-4">
          <div class="step-animation text-center">
            <ng-lottie [options]="lottieOptionsRocket" class="lottie-animation"></ng-lottie>
          </div>
        </div>
      </div>

      <!-- Números y contenido -->
      <div class="row g-4 align-items-start position-relative">
        <div class="col-md-4">
          <div class="step-card text-center">
            <div class="step-number">1</div>
            <h3 class="h4 fw-bold mb-3">Elige</h3>
            <p class="text-muted">tu diseño favorito</p>
          </div>
        </div>

        <div class="col-md-4">
          <div class="step-card text-center">
            <div class="step-number">2</div>
            <h3 class="h4 fw-bold mb-3">Personalízalo</h3>
            <p class="text-muted">con tus datos, fotos y detalles</p>
          </div>
        </div>

        <div class="col-md-4">
          <div class="step-card text-center">
            <div class="step-number">3</div>
            <h3 class="h4 fw-bold mb-3">Compártelo</h3>
            <p class="text-muted">por WhatsApp o redes sociales a tus invitados</p>
          </div>
        </div>

        <!-- Línea conectora -->
        <div class="steps-line"></div>
      </div>
    </div>
  </div>
</section>

<!-- Sección Diseños -->
<section id="diseños" class="designs-section py-5">
  <div class="container">
    <div class="text-center mb-5">
      <h2 class="display-5 fw-bold mb-2">Nuestros Diseños</h2>
      <p class="text-muted">Explora nuestra colección de invitaciones personalizables</p>
    </div>

    <div class="row g-4">
      <div class="col-md-4" *ngFor="let category of categories">
        <div class="category-card">
          <div class="category-content">
            <div class="category-icon-wrapper">
              <i class="bi bi-{{ category.icon }}"></i>
            </div>
            <h3 class="category-title">{{ category.name }}</h3>
            <p class="category-description">{{ category.description }}</p>
            <a routerLink="/market" class="category-link">
              Ver más
              <i class="bi bi-arrow-right ms-1"></i>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Sección Precios -->
<section id="precios" class="pricing-section py-5 bg-light">
  <div class="container">
    <div class="text-center mb-5">
      <h2 class="display-4 fw-bold mb-3">Precios Accesibles</h2>
      <p class="lead text-muted">Elige el tipo de diseño perfecto para tu evento</p>
    </div>

    <div class="row g-4 justify-content-center">
      <div class="col-md-4" *ngFor="let plan of pricingPlans; let i = index">
        <div class="card pricing-card h-100"
             [class.featured]="selectedPlanIndex === i"
             [class.premium-plan]="i === 1"
             (click)="selectPlan(i)"
             style="cursor: pointer;">
          <div class="card-body p-4">
            <h3 class="h4 mb-3 text-center">{{ plan.name }}</h3>
            
            <!-- Badge de descuento -->
            <div *ngIf="hasDiscount(plan.name)" class="text-center mb-2">
              <span class="badge bg-danger discount-badge">
                <i class="bi bi-tag-fill me-1"></i>
                -{{ getDiscount(plan.name) }}% OFF
              </span>
            </div>
            
            <div class="price mb-4 text-center">
              <!-- Precio original tachado (si hay descuento) -->
              <div *ngIf="hasDiscount(plan.name)" class="text-decoration-line-through text-muted fs-5 mb-1">
                S/ {{ plan.price }}
              </div>
              
              <!-- Precio con descuento o precio normal -->
              <span class="display-4 fw-bold" 
                    [class.text-success]="hasDiscount(plan.name)">
                S/ {{ hasDiscount(plan.name) ? (getDiscountedPrice(plan.price, plan.name) | number:'1.2-2') : plan.price }}
              </span>
            </div>
            
            <ul class="list-unstyled mb-4 text-start">
              <li class="mb-3 d-flex align-items-center" *ngFor="let feature of plan.features">
                <i class="bi bi-check-circle-fill text-success me-2 flex-shrink-0"></i>
                <span>{{ feature }}</span>
              </li>
            </ul>
            <a routerLink="/market"
               class="btn w-100"
               [class.btn-primary]="selectedPlanIndex === i"
               [class.btn-outline-primary]="selectedPlanIndex !== i"
               (click)="$event.stopPropagation()">
              Comenzar
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<app-testimonials-slider></app-testimonials-slider>

<!-- Sección Preguntas Frecuentes -->
<section id="faq" class="faq-section py-5">
  <div class="container">
    <div class="text-center mb-5">
      <div class="title-with-icon">
        <h2 class="display-4 fw-bold mb-3">
          <i class="bi bi-question-circle-fill"></i>
          Preguntas Frecuentes
        </h2>
      </div>
      <p class="lead text-muted">Resolvemos tus dudas sobre nuestras invitaciones digitales</p>
    </div>

    <div class="accordion faq-accordion" id="faqAccordion">
      <div class="accordion-item">
        <h3 class="accordion-header">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
            <i class="bi bi-question-circle me-2"></i>
            ¿Cómo recibo mi invitación?
          </button>
        </h3>
        <div id="faq1" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            Una vez realizado el pago, te enviaremos un enlace personalizado para compartir por tus redes sociales.
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <h3 class="accordion-header">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
            <i class="bi bi-question-circle me-2"></i>
            ¿Las invitaciones son personalizables?
          </button>
        </h3>
        <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            Sí, según el tipo que elijas,todas nuestras invitaciones son 100% personalizables. Puedes modificar textos, colores, imágenes y otros elementos para que coincidan perfectamente con tu evento.
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <h3 class="accordion-header">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
            <i class="bi bi-question-circle me-2"></i>
            ¿Qué métodos de pago aceptan?
          </button>
        </h3>
        <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            Aceptamos diversos métodos de pago incluyendo transferencias bancarias, Yape, Plin y depósitos directos para tu comodidad.
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <h3 class="accordion-header">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq4">
            <i class="bi bi-question-circle me-2"></i>
            ¿Cuánto tiempo estará disponible mi invitación?
          </button>
        </h3>
        <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            Por 6 meses, con opción de extensión si lo deseas.
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <h3 class="accordion-header">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq5">
            <i class="bi bi-question-circle me-2"></i>
            ¿Puedo hacer cambios después de recibir mi invitación?
          </button>
        </h3>
        <div id="faq5" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            Sí, ofrecemos un período de revisión y ajustes de 48 horas después de la entrega para realizar cambios menores sin costo adicional.
          </div>
        </div>
      </div>
    </div>

    <div class="text-center mt-5">
      <p class="mb-4">¿Tienes más preguntas? ¡Contáctanos directamente!</p>
      <a href="https://wa.me/51999999999" class="btn btn-primary btn-lg contact-btn">
        <i class="bi bi-whatsapp me-2"></i>
        Chatear con nosotros
      </a>
    </div>
  </div>
</section>

<!-- Sección Contacto -->
<section id="contacto" class="contact-section py-5">
  <div class="container">
    <div class="text-center mb-5">
      <h2 class="display-4 fw-bold mb-3">Contáctanos</h2>
      <p class="lead text-muted">¿Tienes alguna pregunta? Estamos aquí para ayudarte</p>
    </div>

    <div class="row justify-content-center">
      <div class="col-md-8 col-lg-6">
        <form class="contact-form">
          <div class="mb-3">
            <label for="name" class="form-label">Nombre</label>
            <input type="text" class="form-control" id="name" placeholder="Tu nombre">
          </div>
          <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <input type="email" class="form-control" id="email" placeholder="tu@email.com">
          </div>
          <div class="mb-3">
            <label for="message" class="form-label">Mensaje</label>
            <textarea class="form-control" id="message" rows="5" placeholder="¿En qué podemos ayudarte?"></textarea>
          </div>
          <button type="submit" class="btn btn-primary w-100">Enviar Mensaje</button>
        </form>
      </div>
    </div>
  </div>
</section>
